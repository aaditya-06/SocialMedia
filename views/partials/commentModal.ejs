<div
  class="modal fade"
  id="commentModal-<%= post._id %>"
  tabindex="-1"
  aria-labelledby="commentModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" style="max-width: 80vw">
    <div
      class="modal-content bg-dark text-white border-0 rounded-3 overflow-hidden"
      style="height: 80vh"
    >
      <div class="modal-body d-flex p-0" style="height: 100%">
        <!-- Left Side: Post Image -->
        <div class="w-60 border-end">
          <img
            src="<%= post.image %>"
            alt="Post image"
            class="img-fluid h-100"
            style="object-fit: cover"
          />
        </div>

        <!-- Right Side: Comments and Form -->
        <div class="w-50 d-flex flex-column justify-content-between">
          <div class="p-3" style="max-height: 70vh; overflow-y: auto">
            <div class="d-flex align-items-center gap-2 mb-2">
              <div
                class="rounded-circle overflow-hidden bg-secondary"
                style="width: 35px; height: 35px"
              >
                <img
                  src="<%= post.image %>"
                  alt="User"
                  style="width: 100%; height: 100%; object-fit: cover"
                />
              </div>
              <span class="fw-semibold">User</span>
              <span class="text-light" style="font-size: 0.7rem">&bull;</span>
              <small
                class="text-light"
                style="font-size: 0.7rem; font-weight: 100"
                ><%= moment(post.createdAt).fromNow() %></small
              >
            </div>

            <p class="mb-1"><%= post.caption %></p>
            <hr class="my-4" style="border-color: #ffffff; opacity: 0.3" />

            <!-- Comments List -->
            <div class="mt-3">
              <ul class="list-unstyled">
                <% for (let comment of post.comments) { %>
                <li class="mb-2">
                  <span class="fw-semibold">User</span>: <%= comment.comment %>
                </li>
                <% } %>
              </ul>
            </div>
          </div>

          <!-- Add Comment Form -->
          <form
            class="d-flex border-top"
            method="POST"
            action="/<%= post._id %>/comments"
          >
            <input
              type="text"
              name="comments[comment]"
              class="form-control bg-dark text-white border-0 rounded-0"
              placeholder="Add a comment..."
              required
            />
            <button class="btn btn-link text-light px-3">Post</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
